let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function a(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){return e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height/10,e.weight=t.weight/10,e.number=t.id,e.types=t.types,e.baseStats=t.stats.map(function(e){return{name:e.stat.name.toUpperCase().replace("-"," "),value:e.base_stat}}),fetch(t.species.url)}).then(function(e){return e.json()}).then(function(t){e.genus=t.genera.find(e=>"en"===e.language.name).genus}).catch(function(e){console.error(e)})}return{add:t,getAll:n,addListItem:function e(t,n){var i;let r=document.querySelector(".list"),l=document.createElement("li"),s=document.createElement("button"),o=document.createElement("img");switch(s.innerHTML=`No.${n+1}: `,t.name){case"Nidoran-f":s.innerHTML+=`${t.name.replace("-f","&#9792;")}`;break;case"Nidoran-m":s.innerHTML+=`${t.name.replace("-m","&#9794;")}`;break;case"Mr-mime":s.innerHTML+=`${t.name.replace("-m",". M")}`;break;default:s.innerHTML+=`${t.name}`}s.classList.add("pokemon-item"),s.addEventListener("click",function(){(function e(t){a(t).then(function(){listModal.showModal(t),console.log(t)})})(t)}),o.classList.add("sprite"),l.appendChild(s),r.appendChild(l),s.appendChild(o),(i=t,fetch(i.detailsUrl).then(function(e){return e.json()}).then(function(e){return e.sprites.versions["generation-viii"].icons.front_default}).catch(function(e){console.error(e)})).then(function(e){o.src=e})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:a}}(),listModal=function(){function e(){document.querySelector("#modal-container").classList.remove("is-visible")}return window.addEventListener("keydown",t=>{let n=document.querySelector("#modal-container");"Escape"===t.key&&n.classList.contains("is-visible")&&e()}),{showModal:function t(n){let a=document.querySelector("#modal-container");a.innerHTML="";let i=document.createElement("div");i.classList.add("modal");let r=document.createElement("div");r.classList.add("modal-header");let l=document.createElement("button");l.classList.add("modal-close"),l.innerHTML="&times;",l.addEventListener("click",e);let s=document.createElement("div");s.classList.add("modal-content");let o=document.createElement("div");o.classList.add("modal-image");let c=document.createElement("img");c.src=n.imageUrl;let d=document.createElement("h1");switch(d.innerHTML=`No.${n.number}: `,n.name){case"Nidoran-f":d.innerHTML+=`${n.name.replace("-f","&#9792;")}`;break;case"Nidoran-m":d.innerHTML+=`${n.name.replace("-m","&#9794;")}`;break;case"Mr-mime":d.innerHTML+=`${n.name.replace("-m",". M")}`;break;default:d.innerHTML+=`${n.name}`}d.classList.add("modal-title");let m=document.createElement("div");m.classList.add("modal-content__info");let p=document.createElement("div");p.innerText=n.genus,p.classList.add("subtitle");let u=document.createElement("div");u.innerHTML=`Height: ${n.height}m<br>Weight: ${n.weight}kg`,u.classList.add("height"),a.appendChild(i),i.appendChild(r),i.appendChild(s),r.appendChild(l),s.appendChild(o),s.appendChild(m),o.appendChild(c),m.appendChild(d),m.appendChild(p),n.types.forEach(function(e){let t=e.type.name.charAt(0).toUpperCase()+e.type.name.slice(1),n=document.createElement("div");n.innerText=t,n.classList.add("type",t),m.appendChild(n)}),m.appendChild(u);let h=document.createElement("h2");h.innerText="BASE STATS",m.appendChild(h),n.baseStats.forEach(function(e){let t=document.createElement("div");t.innerHTML=`<b>${e.name}</b>: ${e.value}`,m.appendChild(t)}),a.classList.add("is-visible"),a.addEventListener("click",t=>{t.target===a&&e()})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e,t){pokemonRepository.addListItem(e,t)})});